
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EduVerse - Video Player & XP System</title>
    <style>
        body {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background-color: #000;
            color: #FFD700;
            margin: 0;
            font-family: 'Poppins', sans-serif;
        }

        .header {
            text-align: center;
            font-size: 36px;
            font-weight: bold;
            color: #FFD700;
            margin-bottom: 20px;
            border-bottom: 2px solid #FFD700;
            padding: 10px;
            width: 100%;
            max-width: 1000px;
        }

        .motivational-text {
            font-size: 24px;
            color: #FFD700;
            margin-bottom: 20px;
            text-align: center;
            font-weight: 600;
        }

        .player-container {
            width: 100%;
            max-width: 1000px;
            background: #111;
            border: 2px solid #FFD700;
            border-radius: 10px;
            padding: 20px;
        }

        .xp-container {
            margin-top: 20px;
            text-align: center;
            font-size: 18px;
        }

        .leaderboard-container {
            margin-top: 20px;
            background: #111;
            border: 2px solid #FFD700;
            padding: 10px;
            border-radius: 10px;
            max-width: 1000px;
        }

        .leaderboard-container ul {
            list-style-type: none;
            padding: 0;
        }

        .leaderboard-container li {
            padding: 5px;
            font-size: 18px;
            border-bottom: 1px solid #FFD700;
        }
    </style>
</head>
<body>

<div class="header">EduVerse</div>

<div class="player-container">
    <div id="my-player"></div>
</div>

<!-- JW Player Script -->
<script src="https://content.jwplatform.com/libraries/SAHhwvZq.js"></script>

<script>
    // Array of Hindi motivational thoughts for board exams
    const motivationalThoughts = [
        'सपने वो नहीं होते जो नींद में आते हैं, सपने वो होते हैं जो आपको सोने नहीं देते।',
        'परिश्रम का कोई विकल्प नहीं है, आज मेहनत करो, कल सफलता पाओ।',
        'धैर्य और प्रयास से ही सफलता प्राप्त होती है।',
        'आपकी सफलता आपके प्रयासों पर निर्भर करती है, चलिए इसे शुरू करें!',
        'अब समय है, उठो और मेहनत करो। बोर्ड परीक्षा नजदीक है!'
    ];

    // Function to display random motivational thought
    function displayMotivationalThought() {
        const randomIndex = Math.floor(Math.random() * motivationalThoughts.length);
        document.getElementById('motivational-text').innerText = motivationalThoughts[randomIndex];
    }

    // XP System and Leaderboard (remains unchanged)
    let userXP = 0;
    let xpInterval;
    const leaderboard = [];

    function initializeXP(userName) {
        const today = new Date().toISOString().split('T')[0];
        const storedData = JSON.parse(localStorage.getItem('xpData')) || {};

        if (!storedData[userName]) {
            storedData[userName] = { xp: 0, date: today };
            localStorage.setItem('xpData', JSON.stringify(storedData));
        }

        const userData = storedData[userName];
        if (userData.date !== today) {
            userData.xp = 0;
            userData.date = today;
        }
        userXP = userData.xp;

        document.getElementById('xp-container').innerText = `${userName} - Today's XP: ${userXP}`;
    }

    function updateXP(userName) {
        const storedData = JSON.parse(localStorage.getItem('xpData')) || {};
        userXP++;
        storedData[userName].xp = userXP;
        localStorage.setItem('xpData', JSON.stringify(storedData));

        document.getElementById('xp-container').innerText = `${userName} - Today's XP: ${userXP}`;
        updateLeaderboard(userName, userXP);
    }

    function askForUserName() {
        const userName = localStorage.getItem('userName');
        if (userName) {
            initializeXP(userName);
            startXPGaining(userName);
        } else {
            const newUserName = prompt('Enter your name to participate in the XP gaining system:');
            if (newUserName) {
                localStorage.setItem('userName', newUserName);
                initializeXP(newUserName);
                startXPGaining(newUserName);
            }
        }
    }

    function startXPGaining(userName) {
        xpInterval = setInterval(() => {
            updateXP(userName);
        }, 60000);
    }

    function updateLeaderboard(userName, xp) {
        const existingUser = leaderboard.find(user => user.name === userName);
        if (existingUser) {
            existingUser.xp = xp;
        } else {
            leaderboard.push({ name: userName, xp: xp });
        }
        leaderboard.sort((a, b) => b.xp - a.xp);
        displayLeaderboard();
    }

    function displayLeaderboard() {
        const leaderboardElement = document.getElementById('leaderboard');
        leaderboardElement.innerHTML = '';
        leaderboard.forEach(user => {
            const li = document.createElement('li');
            li.innerText = `${user.name}: ${user.xp} XP`;
            leaderboardElement.appendChild(li);
        });
    }

    displayMotivationalThought();
    askForUserName();

    function getQueryParam(param) {
        const urlParams = new URLSearchParams(window.location.search);
        return urlParams.get(param);
    }

    const vidId = getQueryParam('vid-id');
    const fallbackUrl = 'https://devstreaming-cdn.apple.com/videos/streaming/examples/adv_dv_atmos/main.m3u8';
    let videoUrl = vidId 
        ? (vidId.startsWith('http') ? vidId : `https://d1qcficr3lu37x.cloudfront.net/file_library/videos/channel_vod_non_drm_hls/${vidId}/index_3.m3u8`) 
        : fallbackUrl;

    // JW Player setup with playback speed controls
   const playerInstance = jwplayer("my-player").setup({
    file: videoUrl,
     width: "100%",
        aspectratio: "16:9",
        autostart: false,
        playbackRateControls: true,
        playbackRates: [0.5, 1, 1.25, 1.5, 2],
        controls: true,
        
    });
</script>



</body>
</html>
